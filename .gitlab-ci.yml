stages:
  - test
  - deploy
  - update_github

validate_html:
  stage: test
  script:
    - apt-get update -qy
    - apt-get install -y tidy
    - tidy -e index.html second.html

deploy_html:
  stage: deploy
  script:
    - mkdir .public
    - cp -r * .public
  artifacts:
    paths:
      - .public
  only:
    - main

update_github:
  stage: update_github
  script:
    - git clone https://github.com/desmondlch/FinalProject2.git
    - cd FinalProject2
    - git remote add gitlab https://gitlab.com/desmondlch/mytest.git
    - git pull gitlab main --rebase
    - git push origin master
  only:
    - main  # Run this job only when changes are pushed to the master branch



